<html>
  <head>
    <script src="../dist/skulpt.js" type="text/javascript"></script>
    <script src="../dist/builtin.js" type="text/javascript"></script>

    
  </head>

  <body>
  <input type="hidden" value="img/" name="StaticURL" id="StaticURL"/>
    <canvas id="mycanvas"  height="500" width="500" tabindex='1'
	style="border-style: solid;display:inline-block;float:left;"></canvas>

<textarea id="code" rows="24" cols="80" style="height:600px;overflow:auto;display:inline-block;float:left;">
import turtle

t = turtle.Turtle()

for c in ['red', 'green', 'yellow', 'blue']:
    t.color(c)
    t.forward(75)
    t.left(90)
</textarea>
  <button onclick="runit()" type="button">Run</button>
  <div id="output"></div>
    <script>
        var prog = document.getElementById("code").value;
        function builtinRead(x) {
            if (Sk.builtinFiles === undefined || Sk.builtinFiles["files"][x] === undefined)
                throw "File not found: '" + x + "'";
            return Sk.builtinFiles["files"][x];
        }
        Sk.configure({read:builtinRead});
        Sk.canvas = "mycanvas";
        try {
            var module = Sk.importMainWithBody("<stdin>", false, prog);
        } catch (e) {
            alert(e);
        }


        function outf(text)
        {
            var output = document.getElementById("output");
            text = text.replace(/</g, '&lt;');
            output.innerHTML = output.innerHTML + text;
        }

        function runit()
        {
            var prog = document.getElementById("code").value;
            var output = document.getElementById("output");
            output.innerHTML = '';
            Sk.configure({output:outf});
            try {
                var module = Sk.importMainWithBody("<stdin>", false, prog);
            } catch (e) {
                alert(e);
            }
        }


    </script>
  </body>
</html>
