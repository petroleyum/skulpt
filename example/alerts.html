<html>
  <head>
    <script src="../dist/skulpt.min.js" type="text/javascript"></script>
    <script src="../dist/skulpt-stdlib.js" type="text/javascript"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>
  </head>

  <body>

<textarea id="code" rows="24" cols="80">
import alerts
p = alerts.Popup('It works!')
p.show()
</textarea>

<button onclick="runit();">Run</button>

    <script>

        function builtinRead(x) {
            if (Sk.builtinFiles === undefined || Sk.builtinFiles["files"][x] === undefined)
                throw "File not found: '" + x + "'";
            return Sk.builtinFiles["files"][x];
        }

        function runit(){
            var prog = document.getElementById("code").value;

            Sk.configure({ read: builtinRead });

            Sk.misceval.asyncToPromise(function() {
              return Sk.importMainWithBody("<stdin>",false,prog,true);
            });
        }

    </script>
  </body>
</html>
